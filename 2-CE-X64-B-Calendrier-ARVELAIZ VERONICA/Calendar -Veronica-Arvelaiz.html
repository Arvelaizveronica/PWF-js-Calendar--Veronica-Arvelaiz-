<!DOCTYPE html>
<html lang="fr">

<head>
    <title>JS-Calendar</title>
    <style type="text/css">
        td {
            border: 1px solid black;
            padding: 1em;
            text-align: center;
            width: 40px;
            height: 40px;
        }

        td.today {
            background-color: red;
            color: white;
            font-weight: bold;
        }

        textarea {
            width: 100%;
            height: 30em;
        }
    </style>
</head>

<body>
    <h1>JS-Calendar</h1>

    <h2>Partie 0 : Générer un &lt;table&gt; pour le mois de janvier</h2>
    <script type="application/javascript">
        console.log("Début Partie 0");
        let max_days = 31;
        let current_day = 1;
        document.write("<table><tr>");
        while (current_day <= max_days) {
            document.write("<td>" + current_day + "</td>");
            current_day++;
        }
        document.write("</tr></table>");
        console.log("Fin Partie 0");
    </script>

    <h2>Partie 1 : Générer un &lt;table&gt; sur plusieurs lignes</h2>
    <script type="application/javascript">
        console.log("Début Partie 1");
        let max_cols = 7, max_lines = 5;
        current_day = 1;
        document.write("<table>");
        for (let i = 0; i < max_lines; ++i) {
            document.write("<tr>");
            for (let j = 0; j < max_cols; ++j) {
                document.write("<td>" + current_day++ + "</td>");
            }
            document.write("</tr>");
        }
        document.write("</table>");
        console.log("Fin Partie 1");
    </script>

    <h2>Partie 2 : Générer le mois de janvier (31 jours, sans cases vides)</h2>
    <script type="application/javascript">
        console.log("Début Partie 2");
        let nombre_jour = 31;
        current_day = 1;
        document.write("<table>");
        while (current_day <= nombre_jour) {
            document.write("<tr>");
            for (let j = 0; j < 7 && current_day <= nombre_jour; j++) {
                document.write("<td>" + current_day + "</td>");
                current_day++;
            }
            document.write("</tr>");
        }
        document.write("</table>");
        console.log("Fin Partie 2");
    </script>

    <h2>Partie 3 : Isoler le code dans une fonction</h2>
    <script type="application/javascript">
        function print_table_month(max_days_in_month, mois_index = 0) {
            const today = new Date();
            const jour_actuel = today.getDate();
            const mois_actuel = today.getMonth();
            let current_day = 1;
            let html = "<table>";
            while (current_day <= max_days_in_month) {
                html += "<tr>";
                for (let j = 0; j < 7 && current_day <= max_days_in_month; j++) {
                    let classe = (current_day === jour_actuel && mois_index === mois_actuel) ? " class='today'" : "";
                    html += `<td${classe}>${current_day}</td>`;
                    current_day++;
                }
                html += "</tr>";
            }
            html += "</table>";
            return html;
        }

        document.write(print_table_month(29));
    </script>

    <h2>Partie 4 : Générer les autres mois</h2>
    <script type="application/javascript">
        console.log("Début Partie 4");
        const mois_jours = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        const noms_mois = ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"];
        for (let i = 0; i < 12; i++) {
            document.write("<h3>" + noms_mois[i] + "</h3>");
            document.write(print_table_month(mois_jours[i], i));
        }
        console.log("Fin Partie 4");
    </script>

    <h2>Partie 5 : Afficher le jour courant en rouge (déjà intégré)</h2>
    <script type="application/javascript">
        console.log("Début Partie 5");
        console.log("(Le jour courant est déjà mis en surbrillance avec la classe 'today')");
        console.log("Fin Partie 5");
    </script>
</body>

</html>
